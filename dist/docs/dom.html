<!DOCTYPE html>

<html>
<head>
  <title>dom.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="loader.html">
                loader.js
              </a>
            
              
              <a class="source" href="App.html">
                App.js
              </a>
            
              
              <a class="source" href="Constructor.html">
                Constructor.js
              </a>
            
              
              <a class="source" href="dom.html">
                dom.js
              </a>
            
              
              <a class="source" href="mediator.html">
                mediator.js
              </a>
            
              
              <a class="source" href="parser.html">
                parser.js
              </a>
            
              
              <a class="source" href="utils.html">
                utils.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>dom.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/**
 * Created by guntars on 10/10/2014.
 */</span>
define([
    <span class="hljs-string">'./utils'</span>
], <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(utils)</span> </span>{
    <span class="hljs-keyword">var</span> dom = {
        append: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parent, child, data)</span> </span>{
            child.el = child.run(parent.el, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, data);
        },
        replace: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(parent, child, data)</span> </span>{
            parent.el.innerHTML = <span class="hljs-string">''</span>;
            dom.append.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
        },
        add: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(el, fragment, parent)</span> </span>{
            el.el = el.run(fragment, <span class="hljs-literal">false</span>, parent);
        },
        text: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(node, text)</span> </span>{
            node.el.innerHTML = text;
        },
        setAttribute: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(node, prop, value)</span> </span>{
            <span class="hljs-keyword">if</span> (utils.isObject(prop)) {
                <span class="hljs-built_in">Object</span>.keys(prop).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(key)</span> </span>{
                    node.el.setAttribute(key, prop[key]);
                }.bind(<span class="hljs-keyword">this</span>));
            } <span class="hljs-keyword">else</span> {
                node.el.setAttribute(prop, value);
            }
        },
        removeAttribute: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(node, prop)</span> </span>{
            node.el.removeAttribute(prop);
        },
        setStyle: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(node, prop, value)</span> </span>{
            <span class="hljs-keyword">if</span> (utils.isObject(prop)) {
                <span class="hljs-built_in">Object</span>.keys(prop).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(key)</span> </span>{
                    node.el.style[key] = prop[key];
                }.bind(<span class="hljs-keyword">this</span>));
            } <span class="hljs-keyword">else</span> {
                node.el.style[prop] = value;
            }
        },
        removeStyle: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(node, prop)</span> </span>{
            <span class="hljs-keyword">delete</span> node.el.style[prop];

        },
        addClass: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(node, className)</span> </span>{
            node.el.classList.add(className);
        },
        removeClass: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(node, className)</span> </span>{
            node.el.classList.remove(className);
        },
        val: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(node, val)</span> </span>{
            <span class="hljs-keyword">var</span> el = node.el;
            <span class="hljs-keyword">if</span> (val !== <span class="hljs-literal">undefined</span>) {
                el.value = val;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> el.value;
            }
        },
        on: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(element, ev, cb, context)</span> </span>{
            <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">4</span>, <span class="hljs-built_in">arguments</span>.length),
                el = element.el,
                events = ev.split(<span class="hljs-string">' '</span>),
                fn = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
                    cb.apply(context || <span class="hljs-keyword">this</span>, [e, element].concat(args));
                };

            events.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(event)</span> </span>{
                el.addEventListener(event, fn);
            });
            <span class="hljs-keyword">return</span> {
                remove: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
                    events.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(event)</span> </span>{
                        el.removeEventListener(event, fn);
                    });
                }
            }
        },
        remove:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(el)</span></span>{
            el.el.remove();
        },
        Element: Element
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h2 id="widget-dom-element">widget/dom.Element</h2>

            </div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <blockquote>
<p>@method Element
@param {Object} node</p>
</blockquote>

            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Element</span><span class="hljs-params">(node)</span> </span>{
        <span class="hljs-keyword">var</span> obj = utils.extend({}, node);
        utils.extend(<span class="hljs-keyword">this</span>, obj);

    }

    utils.extend(Element.prototype, {
        append: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(child)</span> </span>{
            dom.append(<span class="hljs-keyword">this</span>, child)
        },
        replace: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(child, data)</span> </span>{
            dom.replace(<span class="hljs-keyword">this</span>, child, data);
        },
        text: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(text)</span> </span>{
            dom.text(<span class="hljs-keyword">this</span>, text);
        },
        add: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(fragment, parent)</span> </span>{
            dom.add(<span class="hljs-keyword">this</span>, fragment, parent);
        },
        setAttribute: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(prop, value)</span> </span>{
            dom.setAttribute(<span class="hljs-keyword">this</span>, prop, value);
        },
        removeAttribute: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(prop)</span> </span>{
            dom.removeAttribute(<span class="hljs-keyword">this</span>, prop);
        },
        setStyle: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(prop, value)</span> </span>{
            dom.setStyle(<span class="hljs-keyword">this</span>, prop, value);
        },
        removeStyle: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(prop)</span> </span>{
            dom.removeStyle(<span class="hljs-keyword">this</span>, prop);
        },
        addClass: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(className)</span> </span>{
            dom.addClass(<span class="hljs-keyword">this</span>, className);
        },
        removeClass: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(className)</span> </span>{
            dom.removeClass(<span class="hljs-keyword">this</span>, className);
        },
        val: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(val)</span> </span>{
           <span class="hljs-keyword">return</span> dom.val(<span class="hljs-keyword">this</span>, val);
        },
        on: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(event, cb, context)</span> </span>{
            <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">0</span>);
            <span class="hljs-keyword">return</span> dom.on.apply(<span class="hljs-literal">false</span>, [<span class="hljs-keyword">this</span>].concat(args));
        },
        remove:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
            dom.remove(<span class="hljs-keyword">this</span>);
        }

    });
    Element.extend = utils.fnExtend;
    <span class="hljs-keyword">return</span> dom;
});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
